#!/usr/bin/env php

<?php

if (PHP_SAPI !== 'cli') {
    echo 'Warning: uspec should be invoked via the CLI version of PHP, not the ' . PHP_SAPI . ' SAPI' . PHP_EOL;
    exit(1);
}

define('DEV_MODE', getenv('USPEC_DEV_MODE'));

// application or vendor context
$autoload = [
    __DIR__ . '/../vendor/autoload.php', // application bin or phar
    __DIR__ . '/../autoload.php',        // vendor bin
    __DIR__ . '/../../../autoload.php'   // vendor
];
foreach ($autoload as $file) {
    if (file_exists($file)) {
        require $file;
        break;
    }
}

(new Sugarcrm\UpgradeSpec\App('SugarCRM upgrade spec generator', '@package_version@'))->run();
